@use '../selectors';
:root #{selectors.$chat} {
	// Forums
	#{selectors.$content} > #{selectors.$container}:has(#{selectors.$grid}, #{selectors.$list}) {
		background: var(--background-primary);

		#{selectors.$mainCard} {
			background-color: var(--background-secondary);
		}
	}

	// Threads
	#{selectors.$chatLayerWrapper} {
		& > * {
			width: 100%!important;
			min-width: unset;
			filter:unset;
			//max-width: inherit;
		}
		#{selectors.$scrollerContent} {
			min-height: unset;
		}
		position: fixed;
		top: 280px;
		bottom: 120px;
		right: 60px;
		height: unset;
		width: 320px;
		min-width: unset;
		border-radius: var(--border-radius);
		background-color: var(--background-primary);
		padding-bottom: 26px;
		overflow: visible;

		&::-webkit-scrollbar {
			margin-right: 50px;
		}

		// Header
		&::before {
			content: "Thread";
			position: absolute;
			top: -60px;
			z-index: 1;
			width: 100%;
			height: 60px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 20px;
			font-weight: bolder;
			color: var(--header-primary);
			background-color: var(--background-secondary);
			border-radius: var(--border-radius) var(--border-radius) 0 0;
		}

		// Footer
		&::after {
			content: "";
			position: fixed;
			bottom: 85px;
			z-index: 1;
			width: 320px;
			height: 35px;
			background-color: var(--background-secondary);
			border-radius: 0 0 var(--border-radius) var(--border-radius);
			background-image: linear-gradient( to right, var(--header-primary) 33%, rgba(255, 255, 255, 0) 0%);
			background-position: top;
			background-size: 21px 2px;
			background-repeat: repeat-x;
		}
	}

	// Embed
	#{selectors.$embedFull} {
		border: none;
		margin-left: 10px;
		border-radius: 5px var(--border-radius) var(--border-radius) 5px;

		&:after {
			content: "";
			position: absolute;
			top: 1px;
			bottom: 1px;
			left: -10px;
			width: 0px;
			border: solid;
			border-width: 0 0 0 6px;
			border-color: inherit;
			border-radius: var(--border-radius);
		}
	}

	// Code blocks
	.hljs {
		border: none;
		border-radius: var(--border-radius);
	}

	// Audio player
	.wrapperAudio_f316dd { // TODO
		padding: 10px 0 0 0;
		border-radius: var(--border-radius);
	}
	.audioMetadata_f316dd {
		padding: 5px 10px;
	}
	.audioControls_f316dd {
		border-radius: 0 0 var(--border-radius) var(--border-radius);
	}

	// Spoiler
	#{selectors.$spoilerText}#{selectors.$hidden},
	#{selectors.$spoilerText}#{selectors.$hidden}:hover {
		background-color: var(--background-secondary-alt);
	}

	// Discord invite
	[class*="message-accessories"] > #{selectors.$wrapper} {
		border-radius: var(--border-radius);
	}

	// Spotify session
	.invite_f61cb8 { // TODO
		background-color: var(--background-secondary);
		border: none;
		border-radius: var(--border-radius);
	}

	// Spotify embed
	.embedSpotify_b0068a { // TODO
		border-radius: var(--border-radius);
	}

	// Discord Gift
	.tile_ab47a1 { // TODO
		background-color: var(--background-secondary);
		border-radius: var(--border-radius);
	}
	.tileHorizontal_ab47a1.tile_ab47a1:hover { // TODO
		background-color: var(--background-secondary-alt);
	}
	.invalidPoop_ff31dd { // TODO
		background-color: rgba(0, 0, 0, 0.103);
	}

	// # @ / autocomplete menu
	#{selectors.$channelTextArea} {
		& > #{selectors.$autocomplete},
		& > #{selectors.$autocomplete} [role="option"] {
			background-color: var(--background-secondary-alt);
		}
		#{selectors.$categoryHeader},
		#{selectors.$selected} {
			background-color: var(--background-tertiary);
			border-radius: var(--border-radius);
		}
	}
	// @everyone popout
	.everyonePopout-nEbJY3 { //TODO
		background-color: var(--background-primary);
		box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2),
		0 0 0 1px rgba(56, 31, 31, 0.11);
	}

	// Emoji picker
	#emoji-picker-tab-panel {
		#{selectors.$emojiItem}#{selectors.$emojiItemSelected} {
			background-color: var(--background-modifier-selected);
		}
		#{selectors.$searchBar} {
			border-radius: var(--border-radius);
		}

		#{selectors.$imageLoading} {
			background-image: none !important;
			background-color: var(--background-primary);
			border-radius: 8px;
		}
	}

	// Reactions modal
	#{selectors.$focusLock}[aria-label="Reactions"] {
		& > #{selectors.$container} > #{selectors.$scroller} {
			background: var(--background-tertiary);
			border-radius:  var(--border-radius) 0 0 var(--border-radius);
		}
		.container_f2bfbb, // what was this?? TODO
		#{selectors.$reactors} {
			background: var(--background-secondary);
			border-radius: 0 var(--border-radius) var(--border-radius) 0;
		}
		#{selectors.$reactionSelected} {
			background-color: #6e85d321;
		}
		#{selectors.$reactorDefault} {
			box-shadow: inset 0 -1px 0 var(--background-primary);
		}
	}
	// Deleting message modal // TODO: what did this do?
	#{selectors.$focusLock} #{selectors.$root}#{selectors.$small} #{selectors.$message_} {
		background: var(--background-primary);
		box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(56, 31, 31, 0.11);
	}

	#{selectors.$message_} {
		padding-right: 52px !important;
	}

	// Attachements // TODO
	.textContainer_d8e2d0,
	.footer_d8e2d0 {
		border: none;
	}

	// Emoji popout
	#{selectors.$reactionTooltip} {
		border-radius: var(--border-radius);
	}

	// New message bar
	#{selectors.$newMessagesBar} {
		top: 5px;
		border-radius: var(--border-radius);
		background-color: var(--background-accent);
		padding-top: 0;
	}

	// Jump to present bar
	#{selectors.$jumpToPresentBar} {
		bottom: 12px;
		padding-bottom: 0;
		border-radius: var(--border-radius);
	}

	// News chat bar
	#{selectors.$form} #{selectors.$wrapper} {
		border-radius: var(--border-radius);
	}

	// Reactions
	#{selectors.$reactions} > div > #{selectors.$reaction} {
		border-radius: var(--border-radius);
	}

	// Buttons on messages
	[id*="message-accessories"] > #{selectors.$button} {
		border-radius: var(--border-radius);
	}

	// Bot tag
	#{selectors.$botTagRegular} {
		background-color: var(--background-accent);
	}

	// Slow mode
	#{selectors.$cooldownWrapper} {
		color: var(--text-muted) !important;
	}
}
